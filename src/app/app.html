<div class="app-container">
  @if (showHeader()) {
  <app-header></app-header>
  }

  <!-- Main Content Area -->
  <main class="main-content" [class.no-nav]="!showNav()" [class.pt-0]="showHeader()">
    <router-outlet />
    @if (showFooter()) {
    <app-footer />
    }
  </main>

  <!-- Bottom Navigation -->
  @if (showNav()) {
  <nav class="bottom-nav">
    <a routerLink="/events" routerLinkActive="active" class="nav-item">
      <span class="material-symbols-outlined">calendar_month</span>
      <span>Események</span>
    </a>

    <a routerLink="/groups" routerLinkActive="active" class="nav-item">
      <span class="material-symbols-outlined">groups</span>
      <span>Tagságaim</span>
    </a>

    <a routerLink="/results" routerLinkActive="active" class="nav-item">
      <span class="material-symbols-outlined">leaderboard</span>
      <span>Eredmények</span>
    </a>

    <a routerLink="/profile" routerLinkActive="active" class="nav-item">
      <span class="material-symbols-outlined">person</span>
      <span>Profil</span>
    </a>
  </nav>
  }

  @if (showPwaUpdateToast()) {
  <section class="update-toast" [class.with-nav]="showNav()">
    <div class="update-toast__text">
      <span class="material-symbols-outlined">system_update_alt</span>
      <span>Új verzió érhető el.</span>
    </div>
    <button
      type="button"
      class="update-toast__button"
      [disabled]="isApplyingPwaUpdate()"
      (click)="applyPwaUpdate()"
    >
      {{ isApplyingPwaUpdate() ? 'Frissítés...' : 'Frissítés' }}
    </button>
  </section>
  }

  <app-cookie-consent />
  <app-modal />
</div>
